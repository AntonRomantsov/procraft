<input type="text" name="cp_reward" value="{{ reward }}" placeholder="{{ entry_reward }}" id="cp-input-reward" />
<input type="submit" value="{{ button_reward }}" id="cp-button-reward" data-loading-text="{{ text_loading }}"  class="next-step-button" />
<script type="text/javascript"><!--
	$('#cp-button-reward').on('click', function() {
		$.ajax({
			url: 'index.php?route=extension/module/cart_popup/reward',
			type: 'post',
			data: 'cp_reward=' + encodeURIComponent($('input[name=\'cp_reward\']').val()),
			dataType: 'json',
			cache: false,
			beforeSend: function() {
				$('#cp-button-reward').button('loading');
			},
			complete: function() {
				$('#cp-button-reward').button('reset');
			},
			success: function(json) {
				$('.field-error').remove();
				if (json['error']) {
					maskElement('#check-data', false);
					$('input[name=\'cp_reward\']').addClass('error-style').after('<span class="error-text field-error">' + json['error'] + '</span>');
				} else {
					maskElement('#check-data', false);
					$('input[name=\'cp_reward\']').removeClass('error-style').after('<span id="cp-reward-success">' + json['success'] + '</span>').fadeIn();
					$('#cp-reward-success').delay(1000).fadeOut();
					setTimeout(update_cart, 1000, 1, 'remove');
				}
			}
		});
	});
//-->
</script>